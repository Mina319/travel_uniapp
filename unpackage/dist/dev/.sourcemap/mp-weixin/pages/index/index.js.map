{"version":3,"file":"index.js","sources":["pages/index/index.vue","D:/Program Files/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<up-search placeholder=\"搜索景点\" bg-color=\"#e3e3e3\" v-model=\"keyword\"></up-search>\r\n\t\t<up-swiper v-if=\"bannerList.length\" keyName=\"image\" showTitle :list=\"bannerList\" radius=\"8\" :autoplay=\"true\" height=\"160\"></up-swiper>\r\n\t\t<up-notice-bar text=\"项目数据仅为实例,非真实数据\"></up-notice-bar>\r\n\t\t<view class=\"list\">\r\n\t\t\t<up-waterfall v-model=\"flowList\" ref=\"waterfallRef\">\r\n\t\t\t\t<template v-slot:left=\"{ leftList }\">\r\n\t\t\t\t\t<view class=\"demo-water\" v-for=\"(item, index) in leftList\" :key=\"index\">\r\n\t\t\t\t\t\t<up-lazy-load threshold=\"-450\" border-radius=\"10\" :image=\"item.img\" :index=\"index\" :native-mode=\"true\"></up-lazy-load>\r\n\t\t\t\t\t\t<view class=\"demo-title\">{{ item.title}}</view>\r\n\t\t\t\t\t\t<view class=\"demo-price\">{{ item.times}}</view>\r\n\t\t\t\t\t\t<view class=\"demo-tag\">\r\n\t\t\t\t\t\t\t<view class=\"demo-tag-owner\">\r\n\t\t\t\t\t\t\t\t{{ item.tag[0] }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"demo-tag-text\">\r\n\t\t\t\t\t\t\t\t{{ item.tag[1] }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"isDot\" v-if=\"item.isDot\">\r\n\t\t\t\t\t\t\t{{ item.isDot }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-slot:right=\"{ rightList }\">\r\n\t\t\t\t\t<view class=\"demo-water\" v-for=\"(item, index) in rightList\" :key=\"index\">\r\n\t\t\t\t\t\t\t<up-lazy-load threshold=\"-450\" border-radius=\"10\" :image=\"item.img\" :index=\"index\" :native-mode=\"true\"></up-lazy-load>\r\n\t\t\t\t\t\t\t<view class=\"demo-title\">{{ item.title}}</view>\r\n\t\t\t\t\t\t\t<view class=\"demo-price\">{{ item.times}}</view>\r\n\t\t\t\t\t\t\t<view class=\"demo-tag\">\r\n\t\t\t\t\t\t\t\t<view class=\"demo-tag-owner\">\r\n\t\t\t\t\t\t\t\t\t{{ item.tag[0] }}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"demo-tag-text\">\r\n\t\t\t\t\t\t\t\t\t{{ item.tag[1] }}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"isDot\" v-if=\"item.isDot\">\r\n\t\t\t\t\t\t\t\t{{ item.isDot }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</up-waterfall>\r\n\t\t</view>\r\n\t\t<view v-if=\"showTopBtn\" @click=\"Totop\" class=\"topClass\">\r\n\t\t\t<up-icon name=\"arrow-upward\" color=\"#fff\" size=\"28\"></up-icon>\r\n\t\t\t\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport { getBanner, getHomeList } from '../../api/api.js'\r\n\timport { onLoad, onReachBottom, onPageScroll } from '@dcloudio/uni-app'\r\n\timport {\r\n\t\tref,\r\n\t\treactive\r\n\t} from 'vue'\r\n\t\r\n\tconst keyword = ref('')\r\n\t// 轮播图数据\r\n\tconst bannerList = ref([])\r\n\t// 瀑布流数据\r\n\tconst flowList = ref([])\r\n\t// 滚动是否显示\r\n\tconst showTopBtn = ref(0)\r\n\t\r\n\tonLoad(() => {\r\n\t\tgetBanner().then(res => {\r\n\t\t\tconsole.log(res, 'res')\r\n\t\t\tbannerList.value = res.bannerList\r\n\t\t})\r\n\t\tgetHomeList().then(res => {\r\n\t\t\tconsole.log(res, 'getHomeList')\r\n\t\t\tflowList.value = res\r\n\t\t})\r\n\t})\r\n\tonReachBottom(() => {\r\n\t\tconsole.log('触底')\r\n\t\t// 模拟触底后的数据加载\r\n\t\tsetTimeout(() => {\r\n\t\t\taddRandomData()\r\n\t\t}, 1000)\r\n\t})\r\n\t\r\n\tonPageScroll((e) => {\r\n\t\tif (e.scrollTop > 600) {\r\n\t\t\tshowTopBtn.value = 1\r\n\t\t} else {\r\n\t\t\tshowTopBtn.value = 0\r\n\t\t}\r\n\t})\r\n\t// 300ms 置顶效果\r\n\tconst Totop = () => {\r\n\t\tuni.pageScrollTo({\r\n\t\t\tscrollTop: 0,\r\n\t\t\tduration: 300\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 模拟后端返回的数据\r\n\tconst addRandomData = () => {\r\n\t\tfor (let i = 0; i < 10; i++) {\r\n\t\t\tlet index = uni.$u.random(0, flowList.value.length - 1)\r\n\t\t\tlet item = JSON.parse(JSON.stringify(flowList.value[index]))\r\n\t\t\titem.id = uni.$u.guid()\r\n\t\t\tflowList.value.push(item)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.content {\r\n\t\tpadding: 20rpx 20rpx;\r\n\t\t.list {\r\n\t\t\tmargin: 30px 0;\r\n\t\t\t.demo-water {\r\n\t\t\t\tmargin: 10rpx 10rpx 10rpx 0;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\tpadding: 16rpx;\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.demo-title {\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tcolor: #303133;\r\n\t\t}\r\n\t\t.demo-price {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #777;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t}\r\n\t\t.demo-tag {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\t.demo-tag-owner {\r\n\t\t\t\tborder: 1px solid rgb(252,163,129);\r\n\t\t\t\tcolor: #ffaa00;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 4rpx 14rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t}\r\n\t\t\t.demo-tag-text {\r\n\t\t\t\tborder: 1px solid #00aaff;\r\n\t\t\t\tcolor: #00aaff;\r\n\t\t\t\tmargin-left: 24rpx;\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t\tpadding: 4rpx 14rpx;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.isDot {\r\n\t\t\tposition: absolute;\r\n\t\t\t\ttop: 20rpx;\r\n\t\t\t\tright: 20rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground-color: #ff0000;\r\n\t\t\t\tline-height: 32rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tpadding: 4rpx 10rpx;\r\n\t\t}\r\n\t}\r\n\t.topClass {\r\n\t\tposition: fixed;\r\n\t\tbottom: 120rpx;\r\n\t\tright: 30rpx;\r\n\t\tbackground-color: rgba(0,0,0,0.5);\r\n\t\tpadding: 30rpx;\r\n\t\twidth: 44rpx;\r\n\t\theight: 44rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n</style>\n","import MiniProgramPage from 'E:/my-vue/uni-app/travel_uniapp/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","getBanner","uni","getHomeList","onReachBottom","onPageScroll","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAqDA,UAAA,UAAAA,cAAA,IAAA,EAAA;AASA,UAAA,aAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,WAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,aAAAA,cAAA,IAAA,CAAA;AAEAC,kBAAAA,OAAA,MAAA;AACAC,wBAAA,EAAA,KAAA,SAAA;AACAC,sBAAAA,MAAA,MAAA,OAAA,+BAAA,KAAA,KAAA;AACA,mBAAA,QAAA,IAAA;AAAA,MACA,CAAA;AACAC,0BAAA,EAAA,KAAA,SAAA;AACAD,sBAAAA,MAAA,MAAA,OAAA,+BAAA,KAAA,aAAA;AACA,iBAAA,QAAA;AAAA,MACA,CAAA;AAAA,IACA,CAAA;AACAE,kBAAAA,cAAA,MAAA;AACAF,oBAAAA,MAAA,MAAA,OAAA,+BAAA,IAAA;AAEA,iBAAA,MAAA;AACA,sBAAA;AAAA,MACA,GAAA,GAAA;AAAA,IACA,CAAA;AAEAG,kBAAA,aAAA,CAAA,MAAA;AACA,UAAA,EAAA,YAAA,KAAA;AACA,mBAAA,QAAA;AAAA,MACA,OAAA;AACA,mBAAA,QAAA;AAAA,MACA;AAAA,IACA,CAAA;AAEA,UAAA,QAAA,MAAA;AACAH,oBAAAA,MAAA,aAAA;AAAA,QACA,WAAA;AAAA,QACA,UAAA;AAAA,MACA,CAAA;AAAA,IACA;AAGA,UAAA,gBAAA,MAAA;AACA,eAAA,IAAA,GAAA,IAAA,IAAA,KAAA;AACA,YAAA,QAAAA,oBAAA,GAAA,OAAA,GAAA,SAAA,MAAA,SAAA,CAAA;AACA,YAAA,OAAA,KAAA,MAAA,KAAA,UAAA,SAAA,MAAA,KAAA,CAAA,CAAA;AACA,aAAA,KAAAA,oBAAA,GAAA,KAAA;AACA,iBAAA,MAAA,KAAA,IAAA;AAAA,MACA;AAAA,IACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5GA,GAAG,WAAWI,SAAe;"}