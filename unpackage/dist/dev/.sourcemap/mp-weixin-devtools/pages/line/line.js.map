{"version":3,"names":["detailInfo","common_vendor","ref","count","onLoad","props","index","__f__","api_api","projectInfo","id","then","data","Array","isArray","location","length","value","catch","error","message","wx","createPage","_sfc_main"],"sources":["line.vue","D:/Program Files/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbGluZS9saW5lLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"line\">\n\t\t<view class=\"mapBox\">\r\n\t\t\t<!-- <map v-if=\"detailInfo.id\" style=\"width: 100%; height: 1200rpx;background-color: red;\" :markers=\"detailInfo.markers\" :latitude=\"detailInfo.location[0]\" :longitude=\"detailInfo.location[1]\" :show-scale=\"true\"></map> -->\r\n\t\t\t<map v-if=\"detailInfo.id && detailInfo.location && detailInfo.location.length > 0\" \r\n\t\t\t\t style=\"width:300rpx; height: 900rpx;\"\r\n\t\t\t\t :markers=\"detailInfo.markers\"\r\n\t\t\t\t :latitude=\"detailInfo.location[0]\"\r\n\t\t\t\t :longitude=\"detailInfo.location[1]\"\r\n\t\t\t\t :show-scale=\"true\"\r\n\t\t\t\t >\r\n\t\t\t</map>\r\n\t\t</view>\r\n\t\t<view class=\"infos\">\r\n\t\t\t<view class=\"tit\">\r\n\t\t\t\t当前游玩项目： {{ detailInf.title }}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"stars\">\r\n\t\t\t\t<text>项目推荐</text>\r\n\t\t\t\t<up-rate :count=\"count\" v-model=\"detailInfo.count\"></up-rate>\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport { onLoad } from '@dcloudio/uni-app'\r\n\timport { projectInfo } from '../../api/api.js'\r\n\timport { ref, reactive } from 'vue'\r\n\r\n\tconst detailInfo = ref({})\r\n\t\r\n\tconst count = ref(5)\r\n\t// onLoad((props) => {\r\n\t// \tconsole.log(props, 'props')\r\n\t// \tprojectInfo({id: props}).then((data) => {\r\n\t// \t\tdetailInfo.value = data\r\n\t// \t\tconsole.log(detailInfo.value, 'detailInfo.value')\r\n\t// \t\tconsole.log(\"地图坐标:\", detailInfo.location)\r\n\t// \t})\r\n\t// })\r\n\t\r\n\tonLoad((props) => {\n\t\tconsole.log('收到的 props:', props); // 打印 props 确保 id 正确传递\n\n\t\tprojectInfo({ id: props.id })\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(\"接口返回的完整数据：\", data);\n\n\t\t\t\tif (data && data.data) {\n\t\t\t\t\tconsole.log(\"返回的数据结构：\", data.data);\n\t\t\t\t\tif (Array.isArray(data.data.location) && data.data.location.length > 0) {\n\t\t\t\t\t\tdetailInfo.value = data.data;\n\t\t\t\t\t\tconsole.log(\"地图坐标:\", detailInfo.value.location); // 确保 location 被正确赋值\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(\"location 字段无效或为空\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"返回的数据结构不完整\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(\"请求失败，错误信息：\", error.message || error);\n\t\t\t});\n\t});\n\r\n\t\n</script>\n\n<style lang=\"scss\">\n\n\n</style>\n","import MiniProgramPage from 'E:/my-vue/uni-app/travel_uniapp/pages/line/line.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;;;;;;;;;;;;IA8BC,IAAMA,UAAA,GAAaC,aAAA,CAAGC,GAAA,CAAC,EAAE;IAEzB,IAAMC,KAAA,GAAQF,aAAA,CAAGC,GAAA,CAAC,CAAC;IAUnBD,aAAA,CAAMG,MAAA,CAAC,UAACC,KAAA,EAAU;MACjBJ,aAAA,CAAAK,KAAA,CAAAC,KAAA,qCAAY,cAAcF,KAAK;MAE/BG,OAAA,CAAAC,WAAA,CAAY;QAAEC,EAAA,EAAIL,KAAA,CAAMK;MAAE,CAAE,EAC1BC,IAAA,CAAK,UAACC,IAAA,EAAS;QACfX,aAAA,CAAAK,KAAA,CAAAC,KAAA,qCAAY,cAAcK,IAAI;QAE9B,IAAIA,IAAA,IAAQA,IAAA,CAAKA,IAAA,EAAM;UACtBX,aAAA,CAAAK,KAAA,CAAAC,KAAA,qCAAY,YAAYK,IAAA,CAAKA,IAAI;UACjC,IAAIC,KAAA,CAAMC,OAAA,CAAQF,IAAA,CAAKA,IAAA,CAAKG,QAAQ,KAAKH,IAAA,CAAKA,IAAA,CAAKG,QAAA,CAASC,MAAA,GAAS,GAAG;YACvEhB,UAAA,CAAWiB,KAAA,GAAQL,IAAA,CAAKA,IAAA;YACxBX,aAAA,CAAAK,KAAA,CAAAC,KAAA,qCAAY,SAASP,UAAA,CAAWiB,KAAA,CAAMF,QAAQ;UACpD,OAAY;YACNd,aAAA,CAAAK,KAAA,CAAAC,KAAA,uCAAc,kBAAkB;UAChC;QACN,OAAW;UACNN,aAAA,CAAAK,KAAA,CAAcC,KAAA,mDAAY;QAC1B;MACL,CAAI,EACAW,KAAA,CAAM,UAACC,KAAA,EAAU;QACjBlB,aAAA,CAAAK,KAAA,CAAAC,KAAA,uCAAc,cAAcY,KAAA,CAAMC,OAAA,IAAWD,KAAK;MACtD,CAAI;IACJ,CAAE;;;;;;;;;;;;;;;;;;;;;AC/DFE,EAAA,CAAGC,UAAA,CAAWC,SAAe","ignoreList":[]}